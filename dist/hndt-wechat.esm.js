/*!
 * WeChat.js v 1.0.1
 * (c) 2020-2020 xiawang1024
 */
var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function n(e,n){return e(n={exports:{}},n.exports),n.exports}var t=function(e){return e&&e.Math==Math&&e},r=t("object"==typeof globalThis&&globalThis)||t("object"==typeof window&&window)||t("object"==typeof self&&self)||t("object"==typeof e&&e)||Function("return this")(),o=function(e){try{return!!e()}catch(e){return!0}},i=!o((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),c={}.propertyIsEnumerable,a=Object.getOwnPropertyDescriptor,u={f:a&&!c.call({1:2},1)?function(e){var n=a(this,e);return!!n&&n.enumerable}:c},s=function(e,n){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:n}},f={}.toString,l=function(e){return f.call(e).slice(8,-1)},d="".split,p=o((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==l(e)?d.call(e,""):Object(e)}:Object,g=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e},h=function(e){return p(g(e))},m=function(e){return"object"==typeof e?null!==e:"function"==typeof e},v=function(e,n){if(!m(e))return e;var t,r;if(n&&"function"==typeof(t=e.toString)&&!m(r=t.call(e)))return r;if("function"==typeof(t=e.valueOf)&&!m(r=t.call(e)))return r;if(!n&&"function"==typeof(t=e.toString)&&!m(r=t.call(e)))return r;throw TypeError("Can't convert object to primitive value")},y={}.hasOwnProperty,w=function(e,n){return y.call(e,n)},S=r.document,I=m(S)&&m(S.createElement),T=function(e){return I?S.createElement(e):{}},b=!i&&!o((function(){return 7!=Object.defineProperty(T("div"),"a",{get:function(){return 7}}).a})),k=Object.getOwnPropertyDescriptor,_={f:i?k:function(e,n){if(e=h(e),n=v(n,!0),b)try{return k(e,n)}catch(e){}if(w(e,n))return s(!u.f.call(e,n),e[n])}},M=function(e){if(!m(e))throw TypeError(String(e)+" is not an object");return e},x=Object.defineProperty,P={f:i?x:function(e,n,t){if(M(e),n=v(n,!0),M(t),b)try{return x(e,n,t)}catch(e){}if("get"in t||"set"in t)throw TypeError("Accessors not supported");return"value"in t&&(e[n]=t.value),e}},O=i?function(e,n,t){return P.f(e,n,s(1,t))}:function(e,n,t){return e[n]=t,e},j=function(e,n){try{O(r,e,n)}catch(t){r[e]=n}return n},A=r["__core-js_shared__"]||j("__core-js_shared__",{}),E=Function.toString;"function"!=typeof A.inspectSource&&(A.inspectSource=function(e){return E.call(e)});var C,V,L,B,N=A.inspectSource,D=r.WeakMap,R="function"==typeof D&&/native code/.test(N(D)),U=n((function(e){(e.exports=function(e,n){return A[e]||(A[e]=void 0!==n?n:{})})("versions",[]).push({version:"3.6.5",mode:"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})})),W=0,Q=Math.random(),J=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++W+Q).toString(36)},q=U("keys"),z={},F=r.WeakMap;if(R){var Z=new F,G=Z.get,H=Z.has,K=Z.set;C=function(e,n){return K.call(Z,e,n),n},V=function(e){return G.call(Z,e)||{}},L=function(e){return H.call(Z,e)}}else{var X=q[B="state"]||(q[B]=J(B));z[X]=!0,C=function(e,n){return O(e,X,n),n},V=function(e){return w(e,X)?e[X]:{}},L=function(e){return w(e,X)}}var Y,$={set:C,get:V,has:L,enforce:function(e){return L(e)?V(e):C(e,{})},getterFor:function(e){return function(n){var t;if(!m(n)||(t=V(n)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return t}}},ee=n((function(e){var n=$.get,t=$.enforce,o=String(String).split("String");(e.exports=function(e,n,i,c){var a=!!c&&!!c.unsafe,u=!!c&&!!c.enumerable,s=!!c&&!!c.noTargetGet;"function"==typeof i&&("string"!=typeof n||w(i,"name")||O(i,"name",n),t(i).source=o.join("string"==typeof n?n:"")),e!==r?(a?!s&&e[n]&&(u=!0):delete e[n],u?e[n]=i:O(e,n,i)):u?e[n]=i:j(n,i)})(Function.prototype,"toString",(function(){return"function"==typeof this&&n(this).source||N(this)}))})),ne=r,te=function(e){return"function"==typeof e?e:void 0},re=function(e,n){return arguments.length<2?te(ne[e])||te(r[e]):ne[e]&&ne[e][n]||r[e]&&r[e][n]},oe=Math.ceil,ie=Math.floor,ce=function(e){return isNaN(e=+e)?0:(e>0?ie:oe)(e)},ae=Math.min,ue=function(e){return e>0?ae(ce(e),9007199254740991):0},se=Math.max,fe=Math.min,le=function(e){return function(n,t,r){var o,i=h(n),c=ue(i.length),a=function(e,n){var t=ce(e);return t<0?se(t+n,0):fe(t,n)}(r,c);if(e&&t!=t){for(;c>a;)if((o=i[a++])!=o)return!0}else for(;c>a;a++)if((e||a in i)&&i[a]===t)return e||a||0;return!e&&-1}},de={includes:le(!0),indexOf:le(!1)}.indexOf,pe=function(e,n){var t,r=h(e),o=0,i=[];for(t in r)!w(z,t)&&w(r,t)&&i.push(t);for(;n.length>o;)w(r,t=n[o++])&&(~de(i,t)||i.push(t));return i},ge=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],he=ge.concat("length","prototype"),me={f:Object.getOwnPropertyNames||function(e){return pe(e,he)}},ve={f:Object.getOwnPropertySymbols},ye=re("Reflect","ownKeys")||function(e){var n=me.f(M(e)),t=ve.f;return t?n.concat(t(e)):n},we=function(e,n){for(var t=ye(n),r=P.f,o=_.f,i=0;i<t.length;i++){var c=t[i];w(e,c)||r(e,c,o(n,c))}},Se=/#|\.prototype\./,Ie=function(e,n){var t=be[Te(e)];return t==_e||t!=ke&&("function"==typeof n?o(n):!!n)},Te=Ie.normalize=function(e){return String(e).replace(Se,".").toLowerCase()},be=Ie.data={},ke=Ie.NATIVE="N",_e=Ie.POLYFILL="P",Me=Ie,xe=_.f,Pe=function(e,n){var t,o,i,c,a,u=e.target,s=e.global,f=e.stat;if(t=s?r:f?r[u]||j(u,{}):(r[u]||{}).prototype)for(o in n){if(c=n[o],i=e.noTargetGet?(a=xe(t,o))&&a.value:t[o],!Me(s?o:u+(f?".":"#")+o,e.forced)&&void 0!==i){if(typeof c==typeof i)continue;we(c,i)}(e.sham||i&&i.sham)&&O(c,"sham",!0),ee(t,o,c,e)}},Oe=/"/g;Pe({target:"String",proto:!0,forced:(Y="link",o((function(){var e=""[Y]('"');return e!==e.toLowerCase()||e.split('"').length>3})))},{link:function(e){return n="a",t="href",r=e,o=String(g(this)),i="<"+n,""!==t&&(i+=" "+t+'="'+String(r).replace(Oe,"&quot;")+'"'),i+">"+o+"</"+n+">";var n,t,r,o,i}});var je=function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")};function Ae(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ee,Ce,Ve=function(e,n,t){return n&&Ae(e.prototype,n),t&&Ae(e,t),e},Le=Array.isArray||function(e){return"Array"==l(e)},Be=function(e){return Object(g(e))},Ne=function(e,n,t){var r=v(n);r in e?P.f(e,r,s(0,t)):e[r]=t},De=!!Object.getOwnPropertySymbols&&!o((function(){return!String(Symbol())})),Re=De&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Ue=U("wks"),We=r.Symbol,Qe=Re?We:We&&We.withoutSetter||J,Je=function(e){return w(Ue,e)||(De&&w(We,e)?Ue[e]=We[e]:Ue[e]=Qe("Symbol."+e)),Ue[e]},qe=Je("species"),ze=function(e,n){var t;return Le(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!Le(t.prototype)?m(t)&&null===(t=t[qe])&&(t=void 0):t=void 0),new(void 0===t?Array:t)(0===n?0:n)},Fe=re("navigator","userAgent")||"",Ze=r.process,Ge=Ze&&Ze.versions,He=Ge&&Ge.v8;He?Ce=(Ee=He.split("."))[0]+Ee[1]:Fe&&(!(Ee=Fe.match(/Edge\/(\d+)/))||Ee[1]>=74)&&(Ee=Fe.match(/Chrome\/(\d+)/))&&(Ce=Ee[1]);var Ke=Ce&&+Ce,Xe=Je("species"),Ye=function(e){return Ke>=51||!o((function(){var n=[];return(n.constructor={})[Xe]=function(){return{foo:1}},1!==n[e](Boolean).foo}))},$e=Je("isConcatSpreadable"),en=Ke>=51||!o((function(){var e=[];return e[$e]=!1,e.concat()[0]!==e})),nn=Ye("concat"),tn=function(e){if(!m(e))return!1;var n=e[$e];return void 0!==n?!!n:Le(e)};Pe({target:"Array",proto:!0,forced:!en||!nn},{concat:function(e){var n,t,r,o,i,c=Be(this),a=ze(c,0),u=0;for(n=-1,r=arguments.length;n<r;n++)if(tn(i=-1===n?c:arguments[n])){if(u+(o=ue(i.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(t=0;t<o;t++,u++)t in i&&Ne(a,u,i[t])}else{if(u>=9007199254740991)throw TypeError("Maximum allowed index exceeded");Ne(a,u++,i)}return a.length=u,a}});var rn=n((function(e){var n;n=window,e.exports=function(e,n){if(!e.jWeixin){var t,r={config:"preVerifyJSAPI",onMenuShareTimeline:"menu:share:timeline",onMenuShareAppMessage:"menu:share:appmessage",onMenuShareQQ:"menu:share:qq",onMenuShareWeibo:"menu:share:weiboApp",onMenuShareQZone:"menu:share:QZone",previewImage:"imagePreview",getLocation:"geoLocation",openProductSpecificView:"openProductViewWithPid",addCard:"batchAddCard",openCard:"batchViewCard",chooseWXPay:"getBrandWCPayRequest",openEnterpriseRedPacket:"getRecevieBizHongBaoRequest",startSearchBeacons:"startMonitoringBeacons",stopSearchBeacons:"stopMonitoringBeacons",onSearchBeacons:"onBeaconsInRange",consumeAndShareCard:"consumedShareCard",openAddress:"editAddress"},o=function(){var e={};for(var n in r)e[r[n]]=n;return e}(),i=e.document,c=i.title,a=navigator.userAgent.toLowerCase(),u=navigator.platform.toLowerCase(),s=!(!u.match("mac")&&!u.match("win")),f=-1!=a.indexOf("wxdebugger"),l=-1!=a.indexOf("micromessenger"),d=-1!=a.indexOf("android"),p=-1!=a.indexOf("iphone")||-1!=a.indexOf("ipad"),g=(t=a.match(/micromessenger\/(\d+\.\d+\.\d+)/)||a.match(/micromessenger\/(\d+\.\d+)/))?t[1]:"",h={initStartTime:E(),initEndTime:0,preVerifyStartTime:0,preVerifyEndTime:0},m={version:1,appId:"",initTime:0,preVerifyTime:0,networkType:"",isPreVerifyOk:1,systemType:p?1:d?2:-1,clientVersion:g,url:encodeURIComponent(location.href)},v={},y={_completes:[]},w={state:0,data:{}};C((function(){h.initEndTime=E()}));var S=!1,I=[],T={config:function(n){A("config",v=n);var t=!1!==v.check;C((function(){if(t)_(r.config,{verifyJsApiList:j(v.jsApiList),verifyOpenTagList:j(v.openTagList)},function(){y._complete=function(e){h.preVerifyEndTime=E(),w.state=1,w.data=e},y.success=function(e){m.isPreVerifyOk=0},y.fail=function(e){y._fail?y._fail(e):w.state=-1};var e=y._completes;return e.push((function(){!function(){if(!(s||f||v.debug||g<"6.0.2"||m.systemType<0)){var e=new Image;m.appId=v.appId,m.initTime=h.initEndTime-h.initStartTime,m.preVerifyTime=h.preVerifyEndTime-h.preVerifyStartTime,T.getNetworkType({isInnerInvoke:!0,success:function(n){m.networkType=n.networkType;var t="https://open.weixin.qq.com/sdk/report?v="+m.version+"&o="+m.isPreVerifyOk+"&s="+m.systemType+"&c="+m.clientVersion+"&a="+m.appId+"&n="+m.networkType+"&i="+m.initTime+"&p="+m.preVerifyTime+"&u="+m.url;e.src=t}})}}()})),y.complete=function(n){for(var t=0,r=e.length;t<r;++t)e[t]();y._completes=[]},y}()),h.preVerifyStartTime=E();else{w.state=1;for(var e=y._completes,n=0,o=e.length;n<o;++n)e[n]();y._completes=[]}})),T.invoke||(T.invoke=function(n,t,r){e.WeixinJSBridge&&WeixinJSBridge.invoke(n,x(t),r)},T.on=function(n,t){e.WeixinJSBridge&&WeixinJSBridge.on(n,t)})},ready:function(e){0!=w.state?e():(y._completes.push(e),!l&&v.debug&&e())},error:function(e){g<"6.0.2"||(-1==w.state?e(w.data):y._fail=e)},checkJsApi:function(e){_("checkJsApi",{jsApiList:j(e.jsApiList)},(e._complete=function(e){if(d){var n=e.checkResult;n&&(e.checkResult=JSON.parse(n))}e=function(e){var n=e.checkResult;for(var t in n){var r=o[t];r&&(n[r]=n[t],delete n[t])}return e}(e)},e))},onMenuShareTimeline:function(e){M(r.onMenuShareTimeline,{complete:function(){_("shareTimeline",{title:e.title||c,desc:e.title||c,img_url:e.imgUrl||"",link:e.link||location.href,type:e.type||"link",data_url:e.dataUrl||""},e)}},e)},onMenuShareAppMessage:function(e){M(r.onMenuShareAppMessage,{complete:function(n){"favorite"===n.scene?_("sendAppMessage",{title:e.title||c,desc:e.desc||"",link:e.link||location.href,img_url:e.imgUrl||"",type:e.type||"link",data_url:e.dataUrl||""}):_("sendAppMessage",{title:e.title||c,desc:e.desc||"",link:e.link||location.href,img_url:e.imgUrl||"",type:e.type||"link",data_url:e.dataUrl||""},e)}},e)},onMenuShareQQ:function(e){M(r.onMenuShareQQ,{complete:function(){_("shareQQ",{title:e.title||c,desc:e.desc||"",img_url:e.imgUrl||"",link:e.link||location.href},e)}},e)},onMenuShareWeibo:function(e){M(r.onMenuShareWeibo,{complete:function(){_("shareWeiboApp",{title:e.title||c,desc:e.desc||"",img_url:e.imgUrl||"",link:e.link||location.href},e)}},e)},onMenuShareQZone:function(e){M(r.onMenuShareQZone,{complete:function(){_("shareQZone",{title:e.title||c,desc:e.desc||"",img_url:e.imgUrl||"",link:e.link||location.href},e)}},e)},updateTimelineShareData:function(e){_("updateTimelineShareData",{title:e.title,link:e.link,imgUrl:e.imgUrl},e)},updateAppMessageShareData:function(e){_("updateAppMessageShareData",{title:e.title,desc:e.desc,link:e.link,imgUrl:e.imgUrl},e)},startRecord:function(e){_("startRecord",{},e)},stopRecord:function(e){_("stopRecord",{},e)},onVoiceRecordEnd:function(e){M("onVoiceRecordEnd",e)},playVoice:function(e){_("playVoice",{localId:e.localId},e)},pauseVoice:function(e){_("pauseVoice",{localId:e.localId},e)},stopVoice:function(e){_("stopVoice",{localId:e.localId},e)},onVoicePlayEnd:function(e){M("onVoicePlayEnd",e)},uploadVoice:function(e){_("uploadVoice",{localId:e.localId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},downloadVoice:function(e){_("downloadVoice",{serverId:e.serverId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},translateVoice:function(e){_("translateVoice",{localId:e.localId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},chooseImage:function(e){_("chooseImage",{scene:"1|2",count:e.count||9,sizeType:e.sizeType||["original","compressed"],sourceType:e.sourceType||["album","camera"]},(e._complete=function(e){if(d){var n=e.localIds;try{n&&(e.localIds=JSON.parse(n))}catch(e){}}},e))},getLocation:function(e){},previewImage:function(e){_(r.previewImage,{current:e.current,urls:e.urls},e)},uploadImage:function(e){_("uploadImage",{localId:e.localId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},downloadImage:function(e){_("downloadImage",{serverId:e.serverId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},getLocalImgData:function(e){!1===S?(S=!0,_("getLocalImgData",{localId:e.localId},(e._complete=function(e){if(S=!1,0<I.length){var n=I.shift();wx.getLocalImgData(n)}},e))):I.push(e)},getNetworkType:function(e){_("getNetworkType",{},(e._complete=function(e){e=function(e){var n=e.errMsg;e.errMsg="getNetworkType:ok";var t=e.subtype;if(delete e.subtype,t)e.networkType=t;else{var r=n.indexOf(":"),o=n.substring(r+1);switch(o){case"wifi":case"edge":case"wwan":e.networkType=o;break;default:e.errMsg="getNetworkType:fail"}}return e}(e)},e))},openLocation:function(e){_("openLocation",{latitude:e.latitude,longitude:e.longitude,name:e.name||"",address:e.address||"",scale:e.scale||28,infoUrl:e.infoUrl||""},e)},getLocation:function(e){_(r.getLocation,{type:(e=e||{}).type||"wgs84"},(e._complete=function(e){delete e.type},e))},hideOptionMenu:function(e){_("hideOptionMenu",{},e)},showOptionMenu:function(e){_("showOptionMenu",{},e)},closeWindow:function(e){_("closeWindow",{},e=e||{})},hideMenuItems:function(e){_("hideMenuItems",{menuList:e.menuList},e)},showMenuItems:function(e){_("showMenuItems",{menuList:e.menuList},e)},hideAllNonBaseMenuItem:function(e){_("hideAllNonBaseMenuItem",{},e)},showAllNonBaseMenuItem:function(e){_("showAllNonBaseMenuItem",{},e)},scanQRCode:function(e){_("scanQRCode",{needResult:(e=e||{}).needResult||0,scanType:e.scanType||["qrCode","barCode"]},(e._complete=function(e){if(p){var n=e.resultStr;if(n){var t=JSON.parse(n);e.resultStr=t&&t.scan_code&&t.scan_code.scan_result}}},e))},openAddress:function(e){_(r.openAddress,{},(e._complete=function(e){e=function(e){return e.postalCode=e.addressPostalCode,delete e.addressPostalCode,e.provinceName=e.proviceFirstStageName,delete e.proviceFirstStageName,e.cityName=e.addressCitySecondStageName,delete e.addressCitySecondStageName,e.countryName=e.addressCountiesThirdStageName,delete e.addressCountiesThirdStageName,e.detailInfo=e.addressDetailInfo,delete e.addressDetailInfo,e}(e)},e))},openProductSpecificView:function(e){_(r.openProductSpecificView,{pid:e.productId,view_type:e.viewType||0,ext_info:e.extInfo},e)},addCard:function(e){for(var n=e.cardList,t=[],o=0,i=n.length;o<i;++o){var c=n[o],a={card_id:c.cardId,card_ext:c.cardExt};t.push(a)}_(r.addCard,{card_list:t},(e._complete=function(e){var n=e.card_list;if(n){for(var t=0,r=(n=JSON.parse(n)).length;t<r;++t){var o=n[t];o.cardId=o.card_id,o.cardExt=o.card_ext,o.isSuccess=!!o.is_succ,delete o.card_id,delete o.card_ext,delete o.is_succ}e.cardList=n,delete e.card_list}},e))},chooseCard:function(e){_("chooseCard",{app_id:v.appId,location_id:e.shopId||"",sign_type:e.signType||"SHA1",card_id:e.cardId||"",card_type:e.cardType||"",card_sign:e.cardSign,time_stamp:e.timestamp+"",nonce_str:e.nonceStr},(e._complete=function(e){e.cardList=e.choose_card_info,delete e.choose_card_info},e))},openCard:function(e){for(var n=e.cardList,t=[],o=0,i=n.length;o<i;++o){var c=n[o],a={card_id:c.cardId,code:c.code};t.push(a)}_(r.openCard,{card_list:t},e)},consumeAndShareCard:function(e){_(r.consumeAndShareCard,{consumedCardId:e.cardId,consumedCode:e.code},e)},chooseWXPay:function(e){_(r.chooseWXPay,P(e),e)},openEnterpriseRedPacket:function(e){_(r.openEnterpriseRedPacket,P(e),e)},startSearchBeacons:function(e){_(r.startSearchBeacons,{ticket:e.ticket},e)},stopSearchBeacons:function(e){_(r.stopSearchBeacons,{},e)},onSearchBeacons:function(e){M(r.onSearchBeacons,e)},openEnterpriseChat:function(e){_("openEnterpriseChat",{useridlist:e.userIds,chatname:e.groupName},e)},launchMiniProgram:function(e){_("launchMiniProgram",{targetAppId:e.targetAppId,path:function(e){if("string"==typeof e&&0<e.length){var n=e.split("?")[0],t=e.split("?")[1];return n+=".html",void 0!==t?n+"?"+t:n}}(e.path),envVersion:e.envVersion},e)},openBusinessView:function(e){_("openBusinessView",{businessType:e.businessType,queryString:e.queryString||"",envVersion:e.envVersion},(e._complete=function(e){if(d){var n=e.extraData;if(n)try{e.extraData=JSON.parse(n)}catch(n){e.extraData={}}}},e))},miniProgram:{navigateBack:function(e){e=e||{},C((function(){_("invokeMiniProgramAPI",{name:"navigateBack",arg:{delta:e.delta||1}},e)}))},navigateTo:function(e){C((function(){_("invokeMiniProgramAPI",{name:"navigateTo",arg:{url:e.url}},e)}))},redirectTo:function(e){C((function(){_("invokeMiniProgramAPI",{name:"redirectTo",arg:{url:e.url}},e)}))},switchTab:function(e){C((function(){_("invokeMiniProgramAPI",{name:"switchTab",arg:{url:e.url}},e)}))},reLaunch:function(e){C((function(){_("invokeMiniProgramAPI",{name:"reLaunch",arg:{url:e.url}},e)}))},postMessage:function(e){C((function(){_("invokeMiniProgramAPI",{name:"postMessage",arg:e.data||{}},e)}))},getEnv:function(n){C((function(){n({miniprogram:"miniprogram"===e.__wxjs_environment})}))}}},b=1,k={};return i.addEventListener("error",(function(e){if(!d){var n=e.target,t=n.tagName,r=n.src;if(("IMG"==t||"VIDEO"==t||"AUDIO"==t||"SOURCE"==t)&&-1!=r.indexOf("wxlocalresource://")){e.preventDefault(),e.stopPropagation();var o=n["wx-id"];if(o||(o=b++,n["wx-id"]=o),k[o])return;k[o]=!0,wx.ready((function(){wx.getLocalImgData({localId:r,success:function(e){n.src=e.localData}})}))}}}),!0),i.addEventListener("load",(function(e){if(!d){var n=e.target,t=n.tagName;if(n.src,"IMG"==t||"VIDEO"==t||"AUDIO"==t||"SOURCE"==t){var r=n["wx-id"];r&&(k[r]=!1)}}}),!0),n&&(e.wx=e.jWeixin=T),T}function _(n,t,r){e.WeixinJSBridge?WeixinJSBridge.invoke(n,x(t),(function(e){O(n,e,r)})):A(n,r)}function M(n,t,r){e.WeixinJSBridge?WeixinJSBridge.on(n,(function(e){r&&r.trigger&&r.trigger(e),O(n,e,t)})):A(n,r||t)}function x(e){return(e=e||{}).appId=v.appId,e.verifyAppId=v.appId,e.verifySignType="sha1",e.verifyTimestamp=v.timestamp+"",e.verifyNonceStr=v.nonceStr,e.verifySignature=v.signature,e}function P(e){return{timeStamp:e.timestamp+"",nonceStr:e.nonceStr,package:e.package,paySign:e.paySign,signType:e.signType||"SHA1"}}function O(e,n,t){"openEnterpriseChat"!=e&&"openBusinessView"!==e||(n.errCode=n.err_code),delete n.err_code,delete n.err_desc,delete n.err_detail;var r=n.errMsg;r||(r=n.err_msg,delete n.err_msg,r=function(e,n){var t=e,r=o[t];r&&(t=r);var i="ok";if(n){var c=n.indexOf(":");"confirm"==(i=n.substring(c+1))&&(i="ok"),"failed"==i&&(i="fail"),-1!=i.indexOf("failed_")&&(i=i.substring(7)),-1!=i.indexOf("fail_")&&(i=i.substring(5)),"access denied"!=(i=(i=i.replace(/_/g," ")).toLowerCase())&&"no permission to execute"!=i||(i="permission denied"),"config"==t&&"function not exist"==i&&(i="ok"),""==i&&(i="fail")}return t+":"+i}(e,r),n.errMsg=r),(t=t||{})._complete&&(t._complete(n),delete t._complete),r=n.errMsg||"",v.debug&&!t.isInnerInvoke&&alert(JSON.stringify(n));var i=r.indexOf(":");switch(r.substring(i+1)){case"ok":t.success&&t.success(n);break;case"cancel":t.cancel&&t.cancel(n);break;default:t.fail&&t.fail(n)}t.complete&&t.complete(n)}function j(e){if(e){for(var n=0,t=e.length;n<t;++n){var o=e[n],i=r[o];i&&(e[n]=i)}return e}}function A(e,n){if(!(!v.debug||n&&n.isInnerInvoke)){var t=o[e];t&&(e=t),n&&n._complete&&delete n._complete,console.log('"'+e+'",',n||"")}}function E(){return(new Date).getTime()}function C(n){l&&(e.WeixinJSBridge?n():i.addEventListener&&i.addEventListener("WeixinJSBridgeReady",n,!1))}}(n)})),on=[].join,cn=p!=Object,an=function(e,n){var t=[][e];return!!t&&o((function(){t.call(null,n||function(){throw 1},1)}))}("join",",");Pe({target:"Array",proto:!0,forced:cn||!an},{join:function(e){return on.call(h(this),void 0===e?",":e)}});var un=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e},sn=function(e,n,t){if(un(e),void 0===n)return e;switch(t){case 0:return function(){return e.call(n)};case 1:return function(t){return e.call(n,t)};case 2:return function(t,r){return e.call(n,t,r)};case 3:return function(t,r,o){return e.call(n,t,r,o)}}return function(){return e.apply(n,arguments)}},fn=[].push,ln=function(e){var n=1==e,t=2==e,r=3==e,o=4==e,i=6==e,c=5==e||i;return function(a,u,s,f){for(var l,d,g=Be(a),h=p(g),m=sn(u,s,3),v=ue(h.length),y=0,w=f||ze,S=n?w(a,v):t?w(a,0):void 0;v>y;y++)if((c||y in h)&&(d=m(l=h[y],y,g),e))if(n)S[y]=d;else if(d)switch(e){case 3:return!0;case 5:return l;case 6:return y;case 2:fn.call(S,l)}else if(o)return!1;return i?-1:r||o?o:S}},dn={forEach:ln(0),map:ln(1),filter:ln(2),some:ln(3),every:ln(4),find:ln(5),findIndex:ln(6)},pn=Object.defineProperty,gn={},hn=function(e){throw e},mn=dn.map,vn=Ye("map"),yn=function(e,n){if(w(gn,e))return gn[e];n||(n={});var t=[][e],r=!!w(n,"ACCESSORS")&&n.ACCESSORS,c=w(n,0)?n[0]:hn,a=w(n,1)?n[1]:void 0;return gn[e]=!!t&&!o((function(){if(r&&!i)return!0;var e={length:-1};r?pn(e,1,{enumerable:!0,get:hn}):e[1]=1,t.call(e,c,a)}))}("map");Pe({target:"Array",proto:!0,forced:!vn||!yn},{map:function(e){return mn(this,e,arguments.length>1?arguments[1]:void 0)}});var wn=Object.keys||function(e){return pe(e,ge)};Pe({target:"Object",stat:!0,forced:o((function(){wn(1)}))},{keys:function(e){return wn(Be(e))}});var Sn={};Sn[Je("toStringTag")]="z";var In="[object z]"===String(Sn),Tn=Je("toStringTag"),bn="Arguments"==l(function(){return arguments}()),kn=In?l:function(e){var n,t,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(t=function(e,n){try{return e[n]}catch(e){}}(n=Object(e),Tn))?t:bn?l(n):"Object"==(r=l(n))&&"function"==typeof n.callee?"Arguments":r},_n=In?{}.toString:function(){return"[object "+kn(this)+"]"};In||ee(Object.prototype,"toString",_n,{unsafe:!0});var Mn=r.Promise,xn=P.f,Pn=Je("toStringTag"),On=Je("species"),jn={},An=Je("iterator"),En=Array.prototype,Cn=Je("iterator"),Vn=function(e,n,t,r){try{return r?n(M(t)[0],t[1]):n(t)}catch(n){var o=e.return;throw void 0!==o&&M(o.call(e)),n}},Ln=n((function(e){var n=function(e,n){this.stopped=e,this.result=n};(e.exports=function(e,t,r,o,i){var c,a,u,s,f,l,d,p,g=sn(t,r,o?2:1);if(i)c=e;else{if("function"!=typeof(a=function(e){if(null!=e)return e[Cn]||e["@@iterator"]||jn[kn(e)]}(e)))throw TypeError("Target is not iterable");if(void 0!==(p=a)&&(jn.Array===p||En[An]===p)){for(u=0,s=ue(e.length);s>u;u++)if((f=o?g(M(d=e[u])[0],d[1]):g(e[u]))&&f instanceof n)return f;return new n(!1)}c=a.call(e)}for(l=c.next;!(d=l.call(c)).done;)if("object"==typeof(f=Vn(c,g,d.value,o))&&f&&f instanceof n)return f;return new n(!1)}).stop=function(e){return new n(!0,e)}})),Bn=Je("iterator"),Nn=!1;try{var Dn=0,Rn={next:function(){return{done:!!Dn++}},return:function(){Nn=!0}};Rn[Bn]=function(){return this},Array.from(Rn,(function(){throw 2}))}catch(e){}var Un,Wn,Qn,Jn=Je("species"),qn=re("document","documentElement"),zn=/(iphone|ipod|ipad).*applewebkit/i.test(Fe),Fn=r.location,Zn=r.setImmediate,Gn=r.clearImmediate,Hn=r.process,Kn=r.MessageChannel,Xn=r.Dispatch,Yn=0,$n={},et=function(e){if($n.hasOwnProperty(e)){var n=$n[e];delete $n[e],n()}},nt=function(e){return function(){et(e)}},tt=function(e){et(e.data)},rt=function(e){r.postMessage(e+"",Fn.protocol+"//"+Fn.host)};Zn&&Gn||(Zn=function(e){for(var n=[],t=1;arguments.length>t;)n.push(arguments[t++]);return $n[++Yn]=function(){("function"==typeof e?e:Function(e)).apply(void 0,n)},Un(Yn),Yn},Gn=function(e){delete $n[e]},"process"==l(Hn)?Un=function(e){Hn.nextTick(nt(e))}:Xn&&Xn.now?Un=function(e){Xn.now(nt(e))}:Kn&&!zn?(Qn=(Wn=new Kn).port2,Wn.port1.onmessage=tt,Un=sn(Qn.postMessage,Qn,1)):!r.addEventListener||"function"!=typeof postMessage||r.importScripts||o(rt)||"file:"===Fn.protocol?Un="onreadystatechange"in T("script")?function(e){qn.appendChild(T("script")).onreadystatechange=function(){qn.removeChild(this),et(e)}}:function(e){setTimeout(nt(e),0)}:(Un=rt,r.addEventListener("message",tt,!1)));var ot,it,ct,at,ut,st,ft,lt,dt={set:Zn,clear:Gn},pt=_.f,gt=dt.set,ht=r.MutationObserver||r.WebKitMutationObserver,mt=r.process,vt=r.Promise,yt="process"==l(mt),wt=pt(r,"queueMicrotask"),St=wt&&wt.value;St||(ot=function(){var e,n;for(yt&&(e=mt.domain)&&e.exit();it;){n=it.fn,it=it.next;try{n()}catch(e){throw it?at():ct=void 0,e}}ct=void 0,e&&e.enter()},yt?at=function(){mt.nextTick(ot)}:ht&&!zn?(ut=!0,st=document.createTextNode(""),new ht(ot).observe(st,{characterData:!0}),at=function(){st.data=ut=!ut}):vt&&vt.resolve?(ft=vt.resolve(void 0),lt=ft.then,at=function(){lt.call(ft,ot)}):at=function(){gt.call(r,ot)});var It,Tt,bt,kt,_t,Mt,xt,Pt=St||function(e){var n={fn:e,next:void 0};ct&&(ct.next=n),it||(it=n,at()),ct=n},Ot=function(e){var n,t;this.promise=new e((function(e,r){if(void 0!==n||void 0!==t)throw TypeError("Bad Promise constructor");n=e,t=r})),this.resolve=un(n),this.reject=un(t)},jt={f:function(e){return new Ot(e)}},At=function(e,n){if(M(e),m(n)&&n.constructor===e)return n;var t=jt.f(e);return(0,t.resolve)(n),t.promise},Et=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}},Ct=dt.set,Vt=Je("species"),Lt="Promise",Bt=$.get,Nt=$.set,Dt=$.getterFor(Lt),Rt=Mn,Ut=r.TypeError,Wt=r.document,Qt=r.process,Jt=re("fetch"),qt=jt.f,zt=qt,Ft="process"==l(Qt),Zt=!!(Wt&&Wt.createEvent&&r.dispatchEvent),Gt=Me(Lt,(function(){if(!(N(Rt)!==String(Rt))){if(66===Ke)return!0;if(!Ft&&"function"!=typeof PromiseRejectionEvent)return!0}if(Ke>=51&&/native code/.test(Rt))return!1;var e=Rt.resolve(1),n=function(e){e((function(){}),(function(){}))};return(e.constructor={})[Vt]=n,!(e.then((function(){}))instanceof n)})),Ht=Gt||!function(e,n){if(!n&&!Nn)return!1;var t=!1;try{var r={};r[Bn]=function(){return{next:function(){return{done:t=!0}}}},e(r)}catch(e){}return t}((function(e){Rt.all(e).catch((function(){}))})),Kt=function(e){var n;return!(!m(e)||"function"!=typeof(n=e.then))&&n},Xt=function(e,n,t){if(!n.notified){n.notified=!0;var r=n.reactions;Pt((function(){for(var o=n.value,i=1==n.state,c=0;r.length>c;){var a,u,s,f=r[c++],l=i?f.ok:f.fail,d=f.resolve,p=f.reject,g=f.domain;try{l?(i||(2===n.rejection&&nr(e,n),n.rejection=1),!0===l?a=o:(g&&g.enter(),a=l(o),g&&(g.exit(),s=!0)),a===f.promise?p(Ut("Promise-chain cycle")):(u=Kt(a))?u.call(a,d,p):d(a)):p(o)}catch(e){g&&!s&&g.exit(),p(e)}}n.reactions=[],n.notified=!1,t&&!n.rejection&&$t(e,n)}))}},Yt=function(e,n,t){var o,i;Zt?((o=Wt.createEvent("Event")).promise=n,o.reason=t,o.initEvent(e,!1,!0),r.dispatchEvent(o)):o={promise:n,reason:t},(i=r["on"+e])?i(o):"unhandledrejection"===e&&function(e,n){var t=r.console;t&&t.error&&(1===arguments.length?t.error(e):t.error(e,n))}("Unhandled promise rejection",t)},$t=function(e,n){Ct.call(r,(function(){var t,r=n.value;if(er(n)&&(t=Et((function(){Ft?Qt.emit("unhandledRejection",r,e):Yt("unhandledrejection",e,r)})),n.rejection=Ft||er(n)?2:1,t.error))throw t.value}))},er=function(e){return 1!==e.rejection&&!e.parent},nr=function(e,n){Ct.call(r,(function(){Ft?Qt.emit("rejectionHandled",e):Yt("rejectionhandled",e,n.value)}))},tr=function(e,n,t,r){return function(o){e(n,t,o,r)}},rr=function(e,n,t,r){n.done||(n.done=!0,r&&(n=r),n.value=t,n.state=2,Xt(e,n,!0))},or=function(e,n,t,r){if(!n.done){n.done=!0,r&&(n=r);try{if(e===t)throw Ut("Promise can't be resolved itself");var o=Kt(t);o?Pt((function(){var r={done:!1};try{o.call(t,tr(or,e,r,n),tr(rr,e,r,n))}catch(t){rr(e,r,t,n)}})):(n.value=t,n.state=1,Xt(e,n,!1))}catch(t){rr(e,{done:!1},t,n)}}};Gt&&(Rt=function(e){!function(e,n,t){if(!(e instanceof n))throw TypeError("Incorrect "+(t?t+" ":"")+"invocation")}(this,Rt,Lt),un(e),It.call(this);var n=Bt(this);try{e(tr(or,this,n),tr(rr,this,n))}catch(e){rr(this,n,e)}},(It=function(e){Nt(this,{type:Lt,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=function(e,n,t){for(var r in n)ee(e,r,n[r],t);return e}(Rt.prototype,{then:function(e,n){var t,r,o,i=Dt(this),c=qt((t=Rt,void 0===(o=M(this).constructor)||null==(r=M(o)[Jn])?t:un(r)));return c.ok="function"!=typeof e||e,c.fail="function"==typeof n&&n,c.domain=Ft?Qt.domain:void 0,i.parent=!0,i.reactions.push(c),0!=i.state&&Xt(this,i,!1),c.promise},catch:function(e){return this.then(void 0,e)}}),Tt=function(){var e=new It,n=Bt(e);this.promise=e,this.resolve=tr(or,e,n),this.reject=tr(rr,e,n)},jt.f=qt=function(e){return e===Rt||e===bt?new Tt(e):zt(e)},"function"==typeof Mn&&(kt=Mn.prototype.then,ee(Mn.prototype,"then",(function(e,n){var t=this;return new Rt((function(e,n){kt.call(t,e,n)})).then(e,n)}),{unsafe:!0}),"function"==typeof Jt&&Pe({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return At(Rt,Jt.apply(r,arguments))}}))),Pe({global:!0,wrap:!0,forced:Gt},{Promise:Rt}),Mt=Lt,xt=!1,(_t=Rt)&&!w(_t=xt?_t:_t.prototype,Pn)&&xn(_t,Pn,{configurable:!0,value:Mt}),function(e){var n=re(e),t=P.f;i&&n&&!n[On]&&t(n,On,{configurable:!0,get:function(){return this}})}(Lt),bt=re(Lt),Pe({target:Lt,stat:!0,forced:Gt},{reject:function(e){var n=qt(this);return n.reject.call(void 0,e),n.promise}}),Pe({target:Lt,stat:!0,forced:Gt},{resolve:function(e){return At(this,e)}}),Pe({target:Lt,stat:!0,forced:Ht},{all:function(e){var n=this,t=qt(n),r=t.resolve,o=t.reject,i=Et((function(){var t=un(n.resolve),i=[],c=0,a=1;Ln(e,(function(e){var u=c++,s=!1;i.push(void 0),a++,t.call(n,e).then((function(e){s||(s=!0,i[u]=e,--a||r(i))}),o)})),--a||r(i)}));return i.error&&o(i.value),t.promise},race:function(e){var n=this,t=qt(n),r=t.reject,o=Et((function(){var o=un(n.resolve);Ln(e,(function(e){o.call(n,e).then(t.resolve,r)}))}));return o.error&&r(o.value),t.promise}});var ir=function(e){var n=encodeURIComponent(window.location.href);(function(e){return fetch("https://weizan.dianzhenkeji.com/api/jssdk.php",{body:(n=e,Object.keys(n).map((function(e){return"".concat(e,"=").concat(n[e])})).join("&")),method:"POST",headers:{"content-type":"application/x-www-form-urlencoded; charset=UTF-8"}}).then((function(e){return e.json()}));var n})(e?{url:n,appId:e}:{url:n}).then((function(e){var n=e.code,t=e.data;0===n?(console.log("获取api配置信息成功！"),rn.config({debug:!1,appId:t.appId,timestamp:t.timestamp,nonceStr:t.nonceStr,signature:t.signature,jsApiList:["updateAppMessageShareData","updateTimelineShareData","onMenuShareWeibo","onMenuShareQZone","chooseImage","previewImage","getNetworkType","openLocation","getLocation","hideOptionMenu","showOptionMenu","hideMenuItems","showMenuItems","hideAllNonBaseMenuItem","showAllNonBaseMenuItem","scanQRCode","chooseWXPay","openProductSpecificView"]}),rn.error((function(){console.log("SDK config信息验证失败！")}))):console.log("获取api配置信息失败！")}))};var cr=function(){function e(n,t){je(this,e),function(e,n,t){if(e!==n)throw new TypeError("Private static access of wrong provenance");return t}(e,e,ar).call(e,n),t&&this.share(t)}return Ve(e,[{key:"share",value:function(e){!function(e){var n=e.title,t=e.desc,r=e.imgUrl,o=e.link,i=window.location,c=i.origin,a=i.pathname,u="".concat(c).concat(a);o||(o=u),rn.ready((function(){console.log("SDK config信息验证成功！"),rn.updateAppMessageShareData({title:n,desc:t,link:o,imgUrl:r,success:function(){console.log("“分享给朋友”及“分享到QQ”设置成功！")}}),rn.updateTimelineShareData({title:n,link:o,imgUrl:r,success:function(){console.log("“分享到朋友圈”及“分享到QQ空间”设置成功！")}})}))}({title:e.title,desc:e.desc,imgUrl:e.imgUrl,link:e.link})}}],[{key:"getWx",value:function(){return rn}}]),e}(),ar=function(e){ir(e)};export default cr;
