/*!
 * WeChat.js v 1.0.0
 * (c) 2020-2020 xiawang1024
 */
"use strict";var e=function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")};function n(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var t=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e},r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function o(e,n){return e(n={exports:{}},n.exports),n.exports}var i=o((function(e){var n;n=window,e.exports=function(e,n){if(!e.jWeixin){var t,r={config:"preVerifyJSAPI",onMenuShareTimeline:"menu:share:timeline",onMenuShareAppMessage:"menu:share:appmessage",onMenuShareQQ:"menu:share:qq",onMenuShareWeibo:"menu:share:weiboApp",onMenuShareQZone:"menu:share:QZone",previewImage:"imagePreview",getLocation:"geoLocation",openProductSpecificView:"openProductViewWithPid",addCard:"batchAddCard",openCard:"batchViewCard",chooseWXPay:"getBrandWCPayRequest",openEnterpriseRedPacket:"getRecevieBizHongBaoRequest",startSearchBeacons:"startMonitoringBeacons",stopSearchBeacons:"stopMonitoringBeacons",onSearchBeacons:"onBeaconsInRange",consumeAndShareCard:"consumedShareCard",openAddress:"editAddress"},o=function(){var e={};for(var n in r)e[r[n]]=n;return e}(),i=e.document,c=i.title,a=navigator.userAgent.toLowerCase(),u=navigator.platform.toLowerCase(),s=!(!u.match("mac")&&!u.match("win")),f=-1!=a.indexOf("wxdebugger"),l=-1!=a.indexOf("micromessenger"),d=-1!=a.indexOf("android"),p=-1!=a.indexOf("iphone")||-1!=a.indexOf("ipad"),h=(t=a.match(/micromessenger\/(\d+\.\d+\.\d+)/)||a.match(/micromessenger\/(\d+\.\d+)/))?t[1]:"",g={initStartTime:E(),initEndTime:0,preVerifyStartTime:0,preVerifyEndTime:0},m={version:1,appId:"",initTime:0,preVerifyTime:0,networkType:"",isPreVerifyOk:1,systemType:p?1:d?2:-1,clientVersion:h,url:encodeURIComponent(location.href)},v={},y={_completes:[]},w={state:0,data:{}};C((function(){g.initEndTime=E()}));var S=!1,I=[],T={config:function(n){A("config",v=n);var t=!1!==v.check;C((function(){if(t)_(r.config,{verifyJsApiList:j(v.jsApiList),verifyOpenTagList:j(v.openTagList)},function(){y._complete=function(e){g.preVerifyEndTime=E(),w.state=1,w.data=e},y.success=function(e){m.isPreVerifyOk=0},y.fail=function(e){y._fail?y._fail(e):w.state=-1};var e=y._completes;return e.push((function(){!function(){if(!(s||f||v.debug||h<"6.0.2"||m.systemType<0)){var e=new Image;m.appId=v.appId,m.initTime=g.initEndTime-g.initStartTime,m.preVerifyTime=g.preVerifyEndTime-g.preVerifyStartTime,T.getNetworkType({isInnerInvoke:!0,success:function(n){m.networkType=n.networkType;var t="https://open.weixin.qq.com/sdk/report?v="+m.version+"&o="+m.isPreVerifyOk+"&s="+m.systemType+"&c="+m.clientVersion+"&a="+m.appId+"&n="+m.networkType+"&i="+m.initTime+"&p="+m.preVerifyTime+"&u="+m.url;e.src=t}})}}()})),y.complete=function(n){for(var t=0,r=e.length;t<r;++t)e[t]();y._completes=[]},y}()),g.preVerifyStartTime=E();else{w.state=1;for(var e=y._completes,n=0,o=e.length;n<o;++n)e[n]();y._completes=[]}})),T.invoke||(T.invoke=function(n,t,r){e.WeixinJSBridge&&WeixinJSBridge.invoke(n,x(t),r)},T.on=function(n,t){e.WeixinJSBridge&&WeixinJSBridge.on(n,t)})},ready:function(e){0!=w.state?e():(y._completes.push(e),!l&&v.debug&&e())},error:function(e){h<"6.0.2"||(-1==w.state?e(w.data):y._fail=e)},checkJsApi:function(e){_("checkJsApi",{jsApiList:j(e.jsApiList)},(e._complete=function(e){if(d){var n=e.checkResult;n&&(e.checkResult=JSON.parse(n))}e=function(e){var n=e.checkResult;for(var t in n){var r=o[t];r&&(n[r]=n[t],delete n[t])}return e}(e)},e))},onMenuShareTimeline:function(e){M(r.onMenuShareTimeline,{complete:function(){_("shareTimeline",{title:e.title||c,desc:e.title||c,img_url:e.imgUrl||"",link:e.link||location.href,type:e.type||"link",data_url:e.dataUrl||""},e)}},e)},onMenuShareAppMessage:function(e){M(r.onMenuShareAppMessage,{complete:function(n){"favorite"===n.scene?_("sendAppMessage",{title:e.title||c,desc:e.desc||"",link:e.link||location.href,img_url:e.imgUrl||"",type:e.type||"link",data_url:e.dataUrl||""}):_("sendAppMessage",{title:e.title||c,desc:e.desc||"",link:e.link||location.href,img_url:e.imgUrl||"",type:e.type||"link",data_url:e.dataUrl||""},e)}},e)},onMenuShareQQ:function(e){M(r.onMenuShareQQ,{complete:function(){_("shareQQ",{title:e.title||c,desc:e.desc||"",img_url:e.imgUrl||"",link:e.link||location.href},e)}},e)},onMenuShareWeibo:function(e){M(r.onMenuShareWeibo,{complete:function(){_("shareWeiboApp",{title:e.title||c,desc:e.desc||"",img_url:e.imgUrl||"",link:e.link||location.href},e)}},e)},onMenuShareQZone:function(e){M(r.onMenuShareQZone,{complete:function(){_("shareQZone",{title:e.title||c,desc:e.desc||"",img_url:e.imgUrl||"",link:e.link||location.href},e)}},e)},updateTimelineShareData:function(e){_("updateTimelineShareData",{title:e.title,link:e.link,imgUrl:e.imgUrl},e)},updateAppMessageShareData:function(e){_("updateAppMessageShareData",{title:e.title,desc:e.desc,link:e.link,imgUrl:e.imgUrl},e)},startRecord:function(e){_("startRecord",{},e)},stopRecord:function(e){_("stopRecord",{},e)},onVoiceRecordEnd:function(e){M("onVoiceRecordEnd",e)},playVoice:function(e){_("playVoice",{localId:e.localId},e)},pauseVoice:function(e){_("pauseVoice",{localId:e.localId},e)},stopVoice:function(e){_("stopVoice",{localId:e.localId},e)},onVoicePlayEnd:function(e){M("onVoicePlayEnd",e)},uploadVoice:function(e){_("uploadVoice",{localId:e.localId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},downloadVoice:function(e){_("downloadVoice",{serverId:e.serverId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},translateVoice:function(e){_("translateVoice",{localId:e.localId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},chooseImage:function(e){_("chooseImage",{scene:"1|2",count:e.count||9,sizeType:e.sizeType||["original","compressed"],sourceType:e.sourceType||["album","camera"]},(e._complete=function(e){if(d){var n=e.localIds;try{n&&(e.localIds=JSON.parse(n))}catch(e){}}},e))},getLocation:function(e){},previewImage:function(e){_(r.previewImage,{current:e.current,urls:e.urls},e)},uploadImage:function(e){_("uploadImage",{localId:e.localId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},downloadImage:function(e){_("downloadImage",{serverId:e.serverId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},getLocalImgData:function(e){!1===S?(S=!0,_("getLocalImgData",{localId:e.localId},(e._complete=function(e){if(S=!1,0<I.length){var n=I.shift();wx.getLocalImgData(n)}},e))):I.push(e)},getNetworkType:function(e){_("getNetworkType",{},(e._complete=function(e){e=function(e){var n=e.errMsg;e.errMsg="getNetworkType:ok";var t=e.subtype;if(delete e.subtype,t)e.networkType=t;else{var r=n.indexOf(":"),o=n.substring(r+1);switch(o){case"wifi":case"edge":case"wwan":e.networkType=o;break;default:e.errMsg="getNetworkType:fail"}}return e}(e)},e))},openLocation:function(e){_("openLocation",{latitude:e.latitude,longitude:e.longitude,name:e.name||"",address:e.address||"",scale:e.scale||28,infoUrl:e.infoUrl||""},e)},getLocation:function(e){_(r.getLocation,{type:(e=e||{}).type||"wgs84"},(e._complete=function(e){delete e.type},e))},hideOptionMenu:function(e){_("hideOptionMenu",{},e)},showOptionMenu:function(e){_("showOptionMenu",{},e)},closeWindow:function(e){_("closeWindow",{},e=e||{})},hideMenuItems:function(e){_("hideMenuItems",{menuList:e.menuList},e)},showMenuItems:function(e){_("showMenuItems",{menuList:e.menuList},e)},hideAllNonBaseMenuItem:function(e){_("hideAllNonBaseMenuItem",{},e)},showAllNonBaseMenuItem:function(e){_("showAllNonBaseMenuItem",{},e)},scanQRCode:function(e){_("scanQRCode",{needResult:(e=e||{}).needResult||0,scanType:e.scanType||["qrCode","barCode"]},(e._complete=function(e){if(p){var n=e.resultStr;if(n){var t=JSON.parse(n);e.resultStr=t&&t.scan_code&&t.scan_code.scan_result}}},e))},openAddress:function(e){_(r.openAddress,{},(e._complete=function(e){e=function(e){return e.postalCode=e.addressPostalCode,delete e.addressPostalCode,e.provinceName=e.proviceFirstStageName,delete e.proviceFirstStageName,e.cityName=e.addressCitySecondStageName,delete e.addressCitySecondStageName,e.countryName=e.addressCountiesThirdStageName,delete e.addressCountiesThirdStageName,e.detailInfo=e.addressDetailInfo,delete e.addressDetailInfo,e}(e)},e))},openProductSpecificView:function(e){_(r.openProductSpecificView,{pid:e.productId,view_type:e.viewType||0,ext_info:e.extInfo},e)},addCard:function(e){for(var n=e.cardList,t=[],o=0,i=n.length;o<i;++o){var c=n[o],a={card_id:c.cardId,card_ext:c.cardExt};t.push(a)}_(r.addCard,{card_list:t},(e._complete=function(e){var n=e.card_list;if(n){for(var t=0,r=(n=JSON.parse(n)).length;t<r;++t){var o=n[t];o.cardId=o.card_id,o.cardExt=o.card_ext,o.isSuccess=!!o.is_succ,delete o.card_id,delete o.card_ext,delete o.is_succ}e.cardList=n,delete e.card_list}},e))},chooseCard:function(e){_("chooseCard",{app_id:v.appId,location_id:e.shopId||"",sign_type:e.signType||"SHA1",card_id:e.cardId||"",card_type:e.cardType||"",card_sign:e.cardSign,time_stamp:e.timestamp+"",nonce_str:e.nonceStr},(e._complete=function(e){e.cardList=e.choose_card_info,delete e.choose_card_info},e))},openCard:function(e){for(var n=e.cardList,t=[],o=0,i=n.length;o<i;++o){var c=n[o],a={card_id:c.cardId,code:c.code};t.push(a)}_(r.openCard,{card_list:t},e)},consumeAndShareCard:function(e){_(r.consumeAndShareCard,{consumedCardId:e.cardId,consumedCode:e.code},e)},chooseWXPay:function(e){_(r.chooseWXPay,P(e),e)},openEnterpriseRedPacket:function(e){_(r.openEnterpriseRedPacket,P(e),e)},startSearchBeacons:function(e){_(r.startSearchBeacons,{ticket:e.ticket},e)},stopSearchBeacons:function(e){_(r.stopSearchBeacons,{},e)},onSearchBeacons:function(e){M(r.onSearchBeacons,e)},openEnterpriseChat:function(e){_("openEnterpriseChat",{useridlist:e.userIds,chatname:e.groupName},e)},launchMiniProgram:function(e){_("launchMiniProgram",{targetAppId:e.targetAppId,path:function(e){if("string"==typeof e&&0<e.length){var n=e.split("?")[0],t=e.split("?")[1];return n+=".html",void 0!==t?n+"?"+t:n}}(e.path),envVersion:e.envVersion},e)},openBusinessView:function(e){_("openBusinessView",{businessType:e.businessType,queryString:e.queryString||"",envVersion:e.envVersion},(e._complete=function(e){if(d){var n=e.extraData;if(n)try{e.extraData=JSON.parse(n)}catch(n){e.extraData={}}}},e))},miniProgram:{navigateBack:function(e){e=e||{},C((function(){_("invokeMiniProgramAPI",{name:"navigateBack",arg:{delta:e.delta||1}},e)}))},navigateTo:function(e){C((function(){_("invokeMiniProgramAPI",{name:"navigateTo",arg:{url:e.url}},e)}))},redirectTo:function(e){C((function(){_("invokeMiniProgramAPI",{name:"redirectTo",arg:{url:e.url}},e)}))},switchTab:function(e){C((function(){_("invokeMiniProgramAPI",{name:"switchTab",arg:{url:e.url}},e)}))},reLaunch:function(e){C((function(){_("invokeMiniProgramAPI",{name:"reLaunch",arg:{url:e.url}},e)}))},postMessage:function(e){C((function(){_("invokeMiniProgramAPI",{name:"postMessage",arg:e.data||{}},e)}))},getEnv:function(n){C((function(){n({miniprogram:"miniprogram"===e.__wxjs_environment})}))}}},b=1,k={};return i.addEventListener("error",(function(e){if(!d){var n=e.target,t=n.tagName,r=n.src;if(("IMG"==t||"VIDEO"==t||"AUDIO"==t||"SOURCE"==t)&&-1!=r.indexOf("wxlocalresource://")){e.preventDefault(),e.stopPropagation();var o=n["wx-id"];if(o||(o=b++,n["wx-id"]=o),k[o])return;k[o]=!0,wx.ready((function(){wx.getLocalImgData({localId:r,success:function(e){n.src=e.localData}})}))}}}),!0),i.addEventListener("load",(function(e){if(!d){var n=e.target,t=n.tagName;if(n.src,"IMG"==t||"VIDEO"==t||"AUDIO"==t||"SOURCE"==t){var r=n["wx-id"];r&&(k[r]=!1)}}}),!0),n&&(e.wx=e.jWeixin=T),T}function _(n,t,r){e.WeixinJSBridge?WeixinJSBridge.invoke(n,x(t),(function(e){O(n,e,r)})):A(n,r)}function M(n,t,r){e.WeixinJSBridge?WeixinJSBridge.on(n,(function(e){r&&r.trigger&&r.trigger(e),O(n,e,t)})):A(n,r||t)}function x(e){return(e=e||{}).appId=v.appId,e.verifyAppId=v.appId,e.verifySignType="sha1",e.verifyTimestamp=v.timestamp+"",e.verifyNonceStr=v.nonceStr,e.verifySignature=v.signature,e}function P(e){return{timeStamp:e.timestamp+"",nonceStr:e.nonceStr,package:e.package,paySign:e.paySign,signType:e.signType||"SHA1"}}function O(e,n,t){"openEnterpriseChat"!=e&&"openBusinessView"!==e||(n.errCode=n.err_code),delete n.err_code,delete n.err_desc,delete n.err_detail;var r=n.errMsg;r||(r=n.err_msg,delete n.err_msg,r=function(e,n){var t=e,r=o[t];r&&(t=r);var i="ok";if(n){var c=n.indexOf(":");"confirm"==(i=n.substring(c+1))&&(i="ok"),"failed"==i&&(i="fail"),-1!=i.indexOf("failed_")&&(i=i.substring(7)),-1!=i.indexOf("fail_")&&(i=i.substring(5)),"access denied"!=(i=(i=i.replace(/_/g," ")).toLowerCase())&&"no permission to execute"!=i||(i="permission denied"),"config"==t&&"function not exist"==i&&(i="ok"),""==i&&(i="fail")}return t+":"+i}(e,r),n.errMsg=r),(t=t||{})._complete&&(t._complete(n),delete t._complete),r=n.errMsg||"",v.debug&&!t.isInnerInvoke&&alert(JSON.stringify(n));var i=r.indexOf(":");switch(r.substring(i+1)){case"ok":t.success&&t.success(n);break;case"cancel":t.cancel&&t.cancel(n);break;default:t.fail&&t.fail(n)}t.complete&&t.complete(n)}function j(e){if(e){for(var n=0,t=e.length;n<t;++n){var o=e[n],i=r[o];i&&(e[n]=i)}return e}}function A(e,n){if(!(!v.debug||n&&n.isInnerInvoke)){var t=o[e];t&&(e=t),n&&n._complete&&delete n._complete,console.log('"'+e+'",',n||"")}}function E(){return(new Date).getTime()}function C(n){l&&(e.WeixinJSBridge?n():i.addEventListener&&i.addEventListener("WeixinJSBridgeReady",n,!1))}}(n)})),c=function(e){return e&&e.Math==Math&&e},a=c("object"==typeof globalThis&&globalThis)||c("object"==typeof window&&window)||c("object"==typeof self&&self)||c("object"==typeof r&&r)||Function("return this")(),u=function(e){try{return!!e()}catch(e){return!0}},s=!u((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),f={}.propertyIsEnumerable,l=Object.getOwnPropertyDescriptor,d={f:l&&!f.call({1:2},1)?function(e){var n=l(this,e);return!!n&&n.enumerable}:f},p=function(e,n){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:n}},h={}.toString,g=function(e){return h.call(e).slice(8,-1)},m="".split,v=u((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==g(e)?m.call(e,""):Object(e)}:Object,y=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e},w=function(e){return v(y(e))},S=function(e){return"object"==typeof e?null!==e:"function"==typeof e},I=function(e,n){if(!S(e))return e;var t,r;if(n&&"function"==typeof(t=e.toString)&&!S(r=t.call(e)))return r;if("function"==typeof(t=e.valueOf)&&!S(r=t.call(e)))return r;if(!n&&"function"==typeof(t=e.toString)&&!S(r=t.call(e)))return r;throw TypeError("Can't convert object to primitive value")},T={}.hasOwnProperty,b=function(e,n){return T.call(e,n)},k=a.document,_=S(k)&&S(k.createElement),M=function(e){return _?k.createElement(e):{}},x=!s&&!u((function(){return 7!=Object.defineProperty(M("div"),"a",{get:function(){return 7}}).a})),P=Object.getOwnPropertyDescriptor,O={f:s?P:function(e,n){if(e=w(e),n=I(n,!0),x)try{return P(e,n)}catch(e){}if(b(e,n))return p(!d.f.call(e,n),e[n])}},j=function(e){if(!S(e))throw TypeError(String(e)+" is not an object");return e},A=Object.defineProperty,E={f:s?A:function(e,n,t){if(j(e),n=I(n,!0),j(t),x)try{return A(e,n,t)}catch(e){}if("get"in t||"set"in t)throw TypeError("Accessors not supported");return"value"in t&&(e[n]=t.value),e}},C=s?function(e,n,t){return E.f(e,n,p(1,t))}:function(e,n,t){return e[n]=t,e},V=function(e,n){try{C(a,e,n)}catch(t){a[e]=n}return n},L=a["__core-js_shared__"]||V("__core-js_shared__",{}),B=Function.toString;"function"!=typeof L.inspectSource&&(L.inspectSource=function(e){return B.call(e)});var N,D,R,U,W=L.inspectSource,Q=a.WeakMap,J="function"==typeof Q&&/native code/.test(W(Q)),q=o((function(e){(e.exports=function(e,n){return L[e]||(L[e]=void 0!==n?n:{})})("versions",[]).push({version:"3.6.5",mode:"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})})),z=0,F=Math.random(),Z=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++z+F).toString(36)},G=q("keys"),H={},K=a.WeakMap;if(J){var X=new K,Y=X.get,$=X.has,ee=X.set;N=function(e,n){return ee.call(X,e,n),n},D=function(e){return Y.call(X,e)||{}},R=function(e){return $.call(X,e)}}else{var ne=G[U="state"]||(G[U]=Z(U));H[ne]=!0,N=function(e,n){return C(e,ne,n),n},D=function(e){return b(e,ne)?e[ne]:{}},R=function(e){return b(e,ne)}}var te,re,oe={set:N,get:D,has:R,enforce:function(e){return R(e)?D(e):N(e,{})},getterFor:function(e){return function(n){var t;if(!S(n)||(t=D(n)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return t}}},ie=o((function(e){var n=oe.get,t=oe.enforce,r=String(String).split("String");(e.exports=function(e,n,o,i){var c=!!i&&!!i.unsafe,u=!!i&&!!i.enumerable,s=!!i&&!!i.noTargetGet;"function"==typeof o&&("string"!=typeof n||b(o,"name")||C(o,"name",n),t(o).source=r.join("string"==typeof n?n:"")),e!==a?(c?!s&&e[n]&&(u=!0):delete e[n],u?e[n]=o:C(e,n,o)):u?e[n]=o:V(n,o)})(Function.prototype,"toString",(function(){return"function"==typeof this&&n(this).source||W(this)}))})),ce=a,ae=function(e){return"function"==typeof e?e:void 0},ue=function(e,n){return arguments.length<2?ae(ce[e])||ae(a[e]):ce[e]&&ce[e][n]||a[e]&&a[e][n]},se=Math.ceil,fe=Math.floor,le=function(e){return isNaN(e=+e)?0:(e>0?fe:se)(e)},de=Math.min,pe=function(e){return e>0?de(le(e),9007199254740991):0},he=Math.max,ge=Math.min,me=function(e){return function(n,t,r){var o,i=w(n),c=pe(i.length),a=function(e,n){var t=le(e);return t<0?he(t+n,0):ge(t,n)}(r,c);if(e&&t!=t){for(;c>a;)if((o=i[a++])!=o)return!0}else for(;c>a;a++)if((e||a in i)&&i[a]===t)return e||a||0;return!e&&-1}},ve={includes:me(!0),indexOf:me(!1)}.indexOf,ye=function(e,n){var t,r=w(e),o=0,i=[];for(t in r)!b(H,t)&&b(r,t)&&i.push(t);for(;n.length>o;)b(r,t=n[o++])&&(~ve(i,t)||i.push(t));return i},we=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Se=we.concat("length","prototype"),Ie={f:Object.getOwnPropertyNames||function(e){return ye(e,Se)}},Te={f:Object.getOwnPropertySymbols},be=ue("Reflect","ownKeys")||function(e){var n=Ie.f(j(e)),t=Te.f;return t?n.concat(t(e)):n},ke=function(e,n){for(var t=be(n),r=E.f,o=O.f,i=0;i<t.length;i++){var c=t[i];b(e,c)||r(e,c,o(n,c))}},_e=/#|\.prototype\./,Me=function(e,n){var t=Pe[xe(e)];return t==je||t!=Oe&&("function"==typeof n?u(n):!!n)},xe=Me.normalize=function(e){return String(e).replace(_e,".").toLowerCase()},Pe=Me.data={},Oe=Me.NATIVE="N",je=Me.POLYFILL="P",Ae=Me,Ee=O.f,Ce=function(e,n){var t,r,o,i,c,u=e.target,s=e.global,f=e.stat;if(t=s?a:f?a[u]||V(u,{}):(a[u]||{}).prototype)for(r in n){if(i=n[r],o=e.noTargetGet?(c=Ee(t,r))&&c.value:t[r],!Ae(s?r:u+(f?".":"#")+r,e.forced)&&void 0!==o){if(typeof i==typeof o)continue;ke(i,o)}(e.sham||o&&o.sham)&&C(i,"sham",!0),ie(t,r,i,e)}},Ve=Array.isArray||function(e){return"Array"==g(e)},Le=function(e){return Object(y(e))},Be=function(e,n,t){var r=I(n);r in e?E.f(e,r,p(0,t)):e[r]=t},Ne=!!Object.getOwnPropertySymbols&&!u((function(){return!String(Symbol())})),De=Ne&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Re=q("wks"),Ue=a.Symbol,We=De?Ue:Ue&&Ue.withoutSetter||Z,Qe=function(e){return b(Re,e)||(Ne&&b(Ue,e)?Re[e]=Ue[e]:Re[e]=We("Symbol."+e)),Re[e]},Je=Qe("species"),qe=function(e,n){var t;return Ve(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!Ve(t.prototype)?S(t)&&null===(t=t[Je])&&(t=void 0):t=void 0),new(void 0===t?Array:t)(0===n?0:n)},ze=ue("navigator","userAgent")||"",Fe=a.process,Ze=Fe&&Fe.versions,Ge=Ze&&Ze.v8;Ge?re=(te=Ge.split("."))[0]+te[1]:ze&&(!(te=ze.match(/Edge\/(\d+)/))||te[1]>=74)&&(te=ze.match(/Chrome\/(\d+)/))&&(re=te[1]);var He=re&&+re,Ke=Qe("species"),Xe=function(e){return He>=51||!u((function(){var n=[];return(n.constructor={})[Ke]=function(){return{foo:1}},1!==n[e](Boolean).foo}))},Ye=Qe("isConcatSpreadable"),$e=He>=51||!u((function(){var e=[];return e[Ye]=!1,e.concat()[0]!==e})),en=Xe("concat"),nn=function(e){if(!S(e))return!1;var n=e[Ye];return void 0!==n?!!n:Ve(e)};Ce({target:"Array",proto:!0,forced:!$e||!en},{concat:function(e){var n,t,r,o,i,c=Le(this),a=qe(c,0),u=0;for(n=-1,r=arguments.length;n<r;n++)if(nn(i=-1===n?c:arguments[n])){if(u+(o=pe(i.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(t=0;t<o;t++,u++)t in i&&Be(a,u,i[t])}else{if(u>=9007199254740991)throw TypeError("Maximum allowed index exceeded");Be(a,u++,i)}return a.length=u,a}});var tn,rn,on=[].join,cn=v!=Object,an=(tn=",",!!(rn=[]["join"])&&u((function(){rn.call(null,tn||function(){throw 1},1)})));Ce({target:"Array",proto:!0,forced:cn||!an},{join:function(e){return on.call(w(this),void 0===e?",":e)}});var un=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e},sn=function(e,n,t){if(un(e),void 0===n)return e;switch(t){case 0:return function(){return e.call(n)};case 1:return function(t){return e.call(n,t)};case 2:return function(t,r){return e.call(n,t,r)};case 3:return function(t,r,o){return e.call(n,t,r,o)}}return function(){return e.apply(n,arguments)}},fn=[].push,ln=function(e){var n=1==e,t=2==e,r=3==e,o=4==e,i=6==e,c=5==e||i;return function(a,u,s,f){for(var l,d,p=Le(a),h=v(p),g=sn(u,s,3),m=pe(h.length),y=0,w=f||qe,S=n?w(a,m):t?w(a,0):void 0;m>y;y++)if((c||y in h)&&(d=g(l=h[y],y,p),e))if(n)S[y]=d;else if(d)switch(e){case 3:return!0;case 5:return l;case 6:return y;case 2:fn.call(S,l)}else if(o)return!1;return i?-1:r||o?o:S}},dn={forEach:ln(0),map:ln(1),filter:ln(2),some:ln(3),every:ln(4),find:ln(5),findIndex:ln(6)},pn=Object.defineProperty,hn={},gn=function(e){throw e},mn=dn.map,vn=Xe("map"),yn=function(e,n){if(b(hn,e))return hn[e];n||(n={});var t=[][e],r=!!b(n,"ACCESSORS")&&n.ACCESSORS,o=b(n,0)?n[0]:gn,i=b(n,1)?n[1]:void 0;return hn[e]=!!t&&!u((function(){if(r&&!s)return!0;var e={length:-1};r?pn(e,1,{enumerable:!0,get:gn}):e[1]=1,t.call(e,o,i)}))}("map");Ce({target:"Array",proto:!0,forced:!vn||!yn},{map:function(e){return mn(this,e,arguments.length>1?arguments[1]:void 0)}});var wn=Object.keys||function(e){return ye(e,we)};Ce({target:"Object",stat:!0,forced:u((function(){wn(1)}))},{keys:function(e){return wn(Le(e))}});var Sn={};Sn[Qe("toStringTag")]="z";var In="[object z]"===String(Sn),Tn=Qe("toStringTag"),bn="Arguments"==g(function(){return arguments}()),kn=In?g:function(e){var n,t,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(t=function(e,n){try{return e[n]}catch(e){}}(n=Object(e),Tn))?t:bn?g(n):"Object"==(r=g(n))&&"function"==typeof n.callee?"Arguments":r},_n=In?{}.toString:function(){return"[object "+kn(this)+"]"};In||ie(Object.prototype,"toString",_n,{unsafe:!0});var Mn=a.Promise,xn=E.f,Pn=Qe("toStringTag"),On=Qe("species"),jn={},An=Qe("iterator"),En=Array.prototype,Cn=Qe("iterator"),Vn=function(e,n,t,r){try{return r?n(j(t)[0],t[1]):n(t)}catch(n){var o=e.return;throw void 0!==o&&j(o.call(e)),n}},Ln=o((function(e){var n=function(e,n){this.stopped=e,this.result=n};(e.exports=function(e,t,r,o,i){var c,a,u,s,f,l,d,p,h=sn(t,r,o?2:1);if(i)c=e;else{if("function"!=typeof(a=function(e){if(null!=e)return e[Cn]||e["@@iterator"]||jn[kn(e)]}(e)))throw TypeError("Target is not iterable");if(void 0!==(p=a)&&(jn.Array===p||En[An]===p)){for(u=0,s=pe(e.length);s>u;u++)if((f=o?h(j(d=e[u])[0],d[1]):h(e[u]))&&f instanceof n)return f;return new n(!1)}c=a.call(e)}for(l=c.next;!(d=l.call(c)).done;)if("object"==typeof(f=Vn(c,h,d.value,o))&&f&&f instanceof n)return f;return new n(!1)}).stop=function(e){return new n(!0,e)}})),Bn=Qe("iterator"),Nn=!1;try{var Dn=0,Rn={next:function(){return{done:!!Dn++}},return:function(){Nn=!0}};Rn[Bn]=function(){return this},Array.from(Rn,(function(){throw 2}))}catch(e){}var Un,Wn,Qn,Jn=Qe("species"),qn=ue("document","documentElement"),zn=/(iphone|ipod|ipad).*applewebkit/i.test(ze),Fn=a.location,Zn=a.setImmediate,Gn=a.clearImmediate,Hn=a.process,Kn=a.MessageChannel,Xn=a.Dispatch,Yn=0,$n={},et=function(e){if($n.hasOwnProperty(e)){var n=$n[e];delete $n[e],n()}},nt=function(e){return function(){et(e)}},tt=function(e){et(e.data)},rt=function(e){a.postMessage(e+"",Fn.protocol+"//"+Fn.host)};Zn&&Gn||(Zn=function(e){for(var n=[],t=1;arguments.length>t;)n.push(arguments[t++]);return $n[++Yn]=function(){("function"==typeof e?e:Function(e)).apply(void 0,n)},Un(Yn),Yn},Gn=function(e){delete $n[e]},"process"==g(Hn)?Un=function(e){Hn.nextTick(nt(e))}:Xn&&Xn.now?Un=function(e){Xn.now(nt(e))}:Kn&&!zn?(Qn=(Wn=new Kn).port2,Wn.port1.onmessage=tt,Un=sn(Qn.postMessage,Qn,1)):!a.addEventListener||"function"!=typeof postMessage||a.importScripts||u(rt)||"file:"===Fn.protocol?Un="onreadystatechange"in M("script")?function(e){qn.appendChild(M("script")).onreadystatechange=function(){qn.removeChild(this),et(e)}}:function(e){setTimeout(nt(e),0)}:(Un=rt,a.addEventListener("message",tt,!1)));var ot,it,ct,at,ut,st,ft,lt,dt={set:Zn,clear:Gn},pt=O.f,ht=dt.set,gt=a.MutationObserver||a.WebKitMutationObserver,mt=a.process,vt=a.Promise,yt="process"==g(mt),wt=pt(a,"queueMicrotask"),St=wt&&wt.value;St||(ot=function(){var e,n;for(yt&&(e=mt.domain)&&e.exit();it;){n=it.fn,it=it.next;try{n()}catch(e){throw it?at():ct=void 0,e}}ct=void 0,e&&e.enter()},yt?at=function(){mt.nextTick(ot)}:gt&&!zn?(ut=!0,st=document.createTextNode(""),new gt(ot).observe(st,{characterData:!0}),at=function(){st.data=ut=!ut}):vt&&vt.resolve?(ft=vt.resolve(void 0),lt=ft.then,at=function(){lt.call(ft,ot)}):at=function(){ht.call(a,ot)});var It,Tt,bt,kt,_t,Mt,xt,Pt=St||function(e){var n={fn:e,next:void 0};ct&&(ct.next=n),it||(it=n,at()),ct=n},Ot=function(e){var n,t;this.promise=new e((function(e,r){if(void 0!==n||void 0!==t)throw TypeError("Bad Promise constructor");n=e,t=r})),this.resolve=un(n),this.reject=un(t)},jt={f:function(e){return new Ot(e)}},At=function(e,n){if(j(e),S(n)&&n.constructor===e)return n;var t=jt.f(e);return(0,t.resolve)(n),t.promise},Et=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}},Ct=dt.set,Vt=Qe("species"),Lt="Promise",Bt=oe.get,Nt=oe.set,Dt=oe.getterFor(Lt),Rt=Mn,Ut=a.TypeError,Wt=a.document,Qt=a.process,Jt=ue("fetch"),qt=jt.f,zt=qt,Ft="process"==g(Qt),Zt=!!(Wt&&Wt.createEvent&&a.dispatchEvent),Gt=Ae(Lt,(function(){if(!(W(Rt)!==String(Rt))){if(66===He)return!0;if(!Ft&&"function"!=typeof PromiseRejectionEvent)return!0}if(He>=51&&/native code/.test(Rt))return!1;var e=Rt.resolve(1),n=function(e){e((function(){}),(function(){}))};return(e.constructor={})[Vt]=n,!(e.then((function(){}))instanceof n)})),Ht=Gt||!function(e,n){if(!n&&!Nn)return!1;var t=!1;try{var r={};r[Bn]=function(){return{next:function(){return{done:t=!0}}}},e(r)}catch(e){}return t}((function(e){Rt.all(e).catch((function(){}))})),Kt=function(e){var n;return!(!S(e)||"function"!=typeof(n=e.then))&&n},Xt=function(e,n,t){if(!n.notified){n.notified=!0;var r=n.reactions;Pt((function(){for(var o=n.value,i=1==n.state,c=0;r.length>c;){var a,u,s,f=r[c++],l=i?f.ok:f.fail,d=f.resolve,p=f.reject,h=f.domain;try{l?(i||(2===n.rejection&&nr(e,n),n.rejection=1),!0===l?a=o:(h&&h.enter(),a=l(o),h&&(h.exit(),s=!0)),a===f.promise?p(Ut("Promise-chain cycle")):(u=Kt(a))?u.call(a,d,p):d(a)):p(o)}catch(e){h&&!s&&h.exit(),p(e)}}n.reactions=[],n.notified=!1,t&&!n.rejection&&$t(e,n)}))}},Yt=function(e,n,t){var r,o;Zt?((r=Wt.createEvent("Event")).promise=n,r.reason=t,r.initEvent(e,!1,!0),a.dispatchEvent(r)):r={promise:n,reason:t},(o=a["on"+e])?o(r):"unhandledrejection"===e&&function(e,n){var t=a.console;t&&t.error&&(1===arguments.length?t.error(e):t.error(e,n))}("Unhandled promise rejection",t)},$t=function(e,n){Ct.call(a,(function(){var t,r=n.value;if(er(n)&&(t=Et((function(){Ft?Qt.emit("unhandledRejection",r,e):Yt("unhandledrejection",e,r)})),n.rejection=Ft||er(n)?2:1,t.error))throw t.value}))},er=function(e){return 1!==e.rejection&&!e.parent},nr=function(e,n){Ct.call(a,(function(){Ft?Qt.emit("rejectionHandled",e):Yt("rejectionhandled",e,n.value)}))},tr=function(e,n,t,r){return function(o){e(n,t,o,r)}},rr=function(e,n,t,r){n.done||(n.done=!0,r&&(n=r),n.value=t,n.state=2,Xt(e,n,!0))},or=function(e,n,t,r){if(!n.done){n.done=!0,r&&(n=r);try{if(e===t)throw Ut("Promise can't be resolved itself");var o=Kt(t);o?Pt((function(){var r={done:!1};try{o.call(t,tr(or,e,r,n),tr(rr,e,r,n))}catch(t){rr(e,r,t,n)}})):(n.value=t,n.state=1,Xt(e,n,!1))}catch(t){rr(e,{done:!1},t,n)}}};Gt&&(Rt=function(e){!function(e,n,t){if(!(e instanceof n))throw TypeError("Incorrect "+(t?t+" ":"")+"invocation")}(this,Rt,Lt),un(e),It.call(this);var n=Bt(this);try{e(tr(or,this,n),tr(rr,this,n))}catch(e){rr(this,n,e)}},(It=function(e){Nt(this,{type:Lt,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=function(e,n,t){for(var r in n)ie(e,r,n[r],t);return e}(Rt.prototype,{then:function(e,n){var t,r,o,i=Dt(this),c=qt((t=Rt,void 0===(o=j(this).constructor)||null==(r=j(o)[Jn])?t:un(r)));return c.ok="function"!=typeof e||e,c.fail="function"==typeof n&&n,c.domain=Ft?Qt.domain:void 0,i.parent=!0,i.reactions.push(c),0!=i.state&&Xt(this,i,!1),c.promise},catch:function(e){return this.then(void 0,e)}}),Tt=function(){var e=new It,n=Bt(e);this.promise=e,this.resolve=tr(or,e,n),this.reject=tr(rr,e,n)},jt.f=qt=function(e){return e===Rt||e===bt?new Tt(e):zt(e)},"function"==typeof Mn&&(kt=Mn.prototype.then,ie(Mn.prototype,"then",(function(e,n){var t=this;return new Rt((function(e,n){kt.call(t,e,n)})).then(e,n)}),{unsafe:!0}),"function"==typeof Jt&&Ce({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return At(Rt,Jt.apply(a,arguments))}}))),Ce({global:!0,wrap:!0,forced:Gt},{Promise:Rt}),Mt=Lt,xt=!1,(_t=Rt)&&!b(_t=xt?_t:_t.prototype,Pn)&&xn(_t,Pn,{configurable:!0,value:Mt}),function(e){var n=ue(e),t=E.f;s&&n&&!n[On]&&t(n,On,{configurable:!0,get:function(){return this}})}(Lt),bt=ue(Lt),Ce({target:Lt,stat:!0,forced:Gt},{reject:function(e){var n=qt(this);return n.reject.call(void 0,e),n.promise}}),Ce({target:Lt,stat:!0,forced:Gt},{resolve:function(e){return At(this,e)}}),Ce({target:Lt,stat:!0,forced:Ht},{all:function(e){var n=this,t=qt(n),r=t.resolve,o=t.reject,i=Et((function(){var t=un(n.resolve),i=[],c=0,a=1;Ln(e,(function(e){var u=c++,s=!1;i.push(void 0),a++,t.call(n,e).then((function(e){s||(s=!0,i[u]=e,--a||r(i))}),o)})),--a||r(i)}));return i.error&&o(i.value),t.promise},race:function(e){var n=this,t=qt(n),r=t.reject,o=Et((function(){var o=un(n.resolve);Ln(e,(function(e){o.call(n,e).then(t.resolve,r)}))}));return o.error&&r(o.value),t.promise}});var ir=function(e){var n=encodeURIComponent(window.location.href);(function(e){return fetch("https://weizan.dianzhenkeji.com/api/jssdk.php",{body:(n=e,Object.keys(n).map((function(e){return"".concat(e,"=").concat(n[e])})).join("&")),method:"POST",headers:{"content-type":"application/x-www-form-urlencoded; charset=UTF-8"}}).then((function(e){return e.json()}));var n})(e?{url:n,appId:e}:{url:n}).then((function(e){var n=e.code,t=e.data;0===n?(console.log("获取api配置信息成功！"),i.config({debug:!1,appId:t.appId,timestamp:t.timestamp,nonceStr:t.nonceStr,signature:t.signature,jsApiList:["updateAppMessageShareData","updateTimelineShareData","onMenuShareWeibo","onMenuShareQZone","chooseImage","previewImage","getNetworkType","openLocation","getLocation","hideOptionMenu","showOptionMenu","hideMenuItems","showMenuItems","hideAllNonBaseMenuItem","showAllNonBaseMenuItem","scanQRCode","chooseWXPay","openProductSpecificView"]}),i.error((function(){console.log("SDK config信息验证失败！")}))):console.log("获取api配置信息失败！")}))};var cr=function(){function n(t,r){e(this,n),function(e,n,t){if(e!==n)throw new TypeError("Private static access of wrong provenance");return t}(n,n,ar).call(n,t),r&&this.share(r)}return t(n,[{key:"share",value:function(e){!function(e){var n=e.title,t=e.desc,r=e.imgUrl,o=window.location.href;i.ready((function(){console.log("SDK config信息验证成功！"),i.updateAppMessageShareData({title:n,desc:t,link:o,imgUrl:r,success:function(){console.log("“分享给朋友”及“分享到QQ”设置成功！")}}),i.updateTimelineShareData({title:n,link:o,imgUrl:r,success:function(){console.log("“分享到朋友圈”及“分享到QQ空间”设置成功！")}})}))}({title:e.title,desc:e.desc,imgUrl:e.imgUrl})}}],[{key:"getWx",value:function(){return i}}]),n}(),ar=function(e){ir(e)};module.exports=cr;
